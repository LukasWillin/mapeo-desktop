<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' href='css/reset.css'>
    <link rel='stylesheet' href='css/map.css'>
    <link rel='stylesheet' href='css/app.css'>
  </head>
  <body>
    <div id="container"></div>
    <script src="/ideditor.js"></script>
    <script>
    osmAuth = function (opts) {
      return {
        authenticated: function () { return true },
        logout: function () { return this },
        authenticate: function (cb) { return cb() },
        bootstrapToken: function (token, cb) { cb(null, this) },
        xhr: function (opts, cb) { cb(null) },
        preauth: function (c) {},
        options: function () {}
      }
    }
    iD.ui.Account = function () {
      return function () {}
    }
    ;(function (original) {
      iD.Connection = function () {
        var res = original.apply(this, arguments)
        res.userDetails = function (cb) { cb(null, {}) }
        return res
      }
    })(iD.Connection)

    iD.data.load(function() {
      id = iD()
        .presets(iD.data.presets)
        .imagery(iD.data.imagery)
        .taginfo(iD.services.taginfo())
        .assetPath('dist/')

      d3.select('#container')
        .call(id.ui())

      d3.select('#about-list').insert('li', '.user-list')
        .attr('class', 'source-switch')
        .call(iD.ui.SourceSwitch(id)
          /*
          .keys([
            {
              "url": "http://www.openstreetmap.org",
              "oauth_consumer_key": "5A043yRSEugj4DJ5TljuapfnrflWDte8jTOcWLlT",
              "oauth_secret": "aB3jKq1TRsCOUrfOIZ6oQMEDmv2ptV76PA54NGLL"
            },
            {
              "url": "http://api06.dev.openstreetmap.org",
              "oauth_consumer_key": "zwQZFivccHkLs3a8Rq5CoS412fE5aPCXDw9DZj7R",
              "oauth_secret": "aMnOOCwExO2XYtRVWJ1bI9QOdqh1cay2UgpbhA6p"
            }
          ])*/)
    })
    </script>
  </body>
</html>
